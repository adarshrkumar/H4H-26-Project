---
import Layout from '@/layouts/Layout.astro';
import '@/styles/pages/index.scss';
import IndexScript from './IndexScript.astro';
---

<Layout pageTitle="Audio to Color">
    <h1>Audio to Color</h1>

    <div id="mode-tabs">
        <button class="tab active" data-mode="file">File</button>
        <button class="tab" data-mode="speaker">Speaker / Tab</button>
        <button class="tab" data-mode="microphone">Microphone</button>
    </div>

    <div id="controls">
        <div id="ctrl-file" class="ctrl-panel active">
            <label for="audioFile">Audio file</label>
            <input type="file" id="audioFile" accept="audio/*" />
        </div>
        <div id="ctrl-speaker" class="ctrl-panel">
            <button type="button" class="btn" id="speakerStartBtn">Start Capture</button>
            <button type="button" class="btn stop" id="speakerStopBtn" disabled>Stop</button>
        </div>
        <div id="ctrl-microphone" class="ctrl-panel">
            <button type="button" class="btn" id="micStartBtn">Start Microphone</button>
            <button type="button" class="btn stop" id="micStopBtn" disabled>Stop</button>
        </div>
    </div>

    <canvas id="colorCanvas" width="660" height="280"></canvas>

    <p id="mood"></p>

    <div id="metrics"></div>

    <IndexScript />
</Layout>
